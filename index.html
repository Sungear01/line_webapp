<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>เว็บแอพโรคซึมเศร้า – MindCare</title>

  <!-- โหลดไฟล์สไตล์พร้อมเวอร์ชันกันแคช -->
  <link rel="stylesheet" href="styles.css?v=20250911" />
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- LIFF SDK -->
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  
  <!----
  <script>
    const LIFF_ID = "2008065271-BMmpNEZb";

    async function main() {
      try {
        await liff.init({ liffId: LIFF_ID });

        // ถ้ายังไม่ล็อกอิน ให้ใช้ login() โดยไม่ต้องระบุ redirectUri ที่มี # หรือ query
        if (!liff.isLoggedIn()) {
          liff.login();
          return;
        }

        // แสดงชื่อผู้ใช้ (ถ้ามีที่แสดงชื่อ)
        const profile = await liff.getProfile();
        const nameElem = document.getElementById('userName');
        if (nameElem) nameElem.textContent = profile.displayName;

        // หลังล็อกอินแล้ว หากไม่ใช่ #home ให้เลื่อนไปยังหน้าแรก
        if (location.hash !== '#home') {
          location.hash = '#home';
        }
      } catch (err) {
        console.error("LIFF init error:", err);
      }
    }

    document.addEventListener('DOMContentLoaded', main);
  </script>
-->

  <!-- สคริปต์ของคุณ พร้อมเวอร์ชันกันแคช -->
  <script defer src="script.js?v=20250911"></script>
</head>


<body>
  <!-- Header -->
  <header class="site-header">
    <div class="container header-container">
      <div class="logo">MindCare</div>
      <div id="userName" class="user-name"></div>
      <nav class="nav" id="mainNav">
        <ul>
          <li><a href="#home">หน้าแรก</a></li>
          <li><a href="#what">โรคซึมเศร้าคืออะไร</a></li>
          <li><a href="#services">บริการ</a></li>
          <li><a href="#hospitals">โรงพยาบาลใกล้ฉัน</a></li>
          <li><a href="#experts">แพทย์ผู้เชี่ยวชาญ</a></li>
          <li><a href="#quiz">แบบทดสอบ</a></li>
          <li><a href="#help">ขอความช่วยเหลือ</a></li>
          <li><a href="#contact">ติดต่อ</a></li>
        </ul>
      </nav>
      <button class="nav-toggle" id="navToggle" aria-label="open navigation">
        <span class="hamburger"></span>
      </button>
    </div>
  </header>

  <!-- Hero -->
  <section id="home" class="hero">
    <div class="container hero-inner">
      <div class="hero-content">
        <h1>ดูแลใจคุณ</h1>
        <p>เรียนรู้และเข้าใจเกี่ยวกับโรคซึมเศร้า พร้อมค้นหาการช่วยเหลือที่เหมาะสม</p>
        <a class="cta-button" href="#quiz">เริ่มแบบทดสอบ</a>
      </div>
      <div class="hero-image">
        <!-- ใช้ภาพเดิมของคุณ -->
        <img src="ba8f5741-4fe4-42f8-9062-b6a303890d30.png" alt="ภาพประกอบสุขภาพจิต">
      </div>
    </div>
  </section>

  <!-- What -->
  <section id="what" class="info-section">
    <div class="container">
      <h2>โรคซึมเศร้าคืออะไร</h2>
      <p>โรคซึมเศร้าเป็นภาวะทางอารมณ์ที่ส่งผลต่อความรู้สึก ความคิด และพฤติกรรมในชีวิตประจำวัน...</p>
    </div>
  </section>

  <!-- Services -->
  <section id="services" class="info-section light-bg">
    <div class="container">
      <h2>บริการของเรา</h2>
      <div class="cards">
        <div class="card">
          <h3>แบบทดสอบอาการ</h3>
          <p>ทำแบบทดสอบเพื่อประเมินระดับความเสี่ยงของคุณ</p>
          <a class="ghost-button" href="#quiz">ทำแบบทดสอบ</a>
        </div>
        <div class="card">
          <h3>โรงพยาบาลใกล้ฉัน</h3>
          <p>ค้นหาโรงพยาบาลและคลินิกใกล้เคียงที่มีบริการสุขภาพจิต</p>
          <a class="ghost-button" href="#hospitals">ค้นหาโรงพยาบาล</a>
        </div>
        <div class="card">
           <h3>แพทย์ผู้เชี่ยวชาญ</h3>
          <p>พบกับจิตแพทย์และผู้เชี่ยวชาญด้านสุขภาพจิต</p>
          <a class="ghost-button" href="#experts">ดูแพทย์</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Experts (รายการแพทย์ 4–5 คน) -->
  <section id="experts" class="info-section">
    <div class="container">
      <h2>แพทย์ผู้เชี่ยวชาญ</h2>
      <p>เลือกแพทย์ที่ต้องการเพื่อดูประวัติและติดต่อ</p>

      <!-- แสดงด้วย JS (จาก script.js) -->
      <div id="expertsGrid" class="experts-grid" aria-live="polite"></div>
    </div>
  </section>

  <!-- Expert Detail (หน้าโปรไฟล์ภายในเพจ) -->
  <section id="expert-detail" class="info-section hidden">
    <div class="container">
      <a class="back-link" href="#experts">← ย้อนกลับ</a>
      <div id="expertProfile" class="expert-profile"></div>
    </div>
  </section>

  <!-- แบบทดสอบ -->
  <section id="quiz" class="info-section light-bg">
    <div class="container">
      <h2>แบบทดสอบประเมินความเสี่ยง</h2>
      <p>ตอบคำถาม 9 ข้อภายใน 1–2 นาที (ไม่ใช่การวินิจฉัย แนะนำให้ปรึกษาผู้เชี่ยวชาญเสมอ)</p>
      <form id="quizForm" class="quiz-form"></form>
      <div id="quizResult" class="quiz-result"></div>
    </div>
  </section>

 <!-- Hospital Finder -->
  <section id="hospitals" class="info-section hospital-finder">
    <div class="container">
      <h2>โรงพยาบาลใกล้ฉัน</h2>
      <p>ค้นหาโรงพยาบาลและคลินิกที่มีบริการสุขภาพจิตใกล้ตำแหน่งของคุณ</p>
      
      <div class="hospital-controls">
        <button class="location-button" id="findLocationBtn">
          ค้นหาตำแหน่งปัจจุบัน
        </button>
        <div class="radius-selector">
          <label for="searchRadius">รัศมีการค้นหา:</label>
          <select id="searchRadius">
            <option value="5">5 กม.</option>
            <option value="10" selected>10 กม.</option>
            <option value="20">20 กม.</option>
            <option value="50">50 กม.</option>
          </select>
        </div>
      </div>

      <div class="hospital-layout">
        <div class="map-container">
          <div id="hospitalMap"></div>
        </div>
        <div class="hospital-list">
          <h3>โรงพยาบาลใกล้เคียง</h3>
          <div id="hospitalResults">
            <div class="loading-spinner">
              กดปุ่ม "ค้นหาตำแหน่งปัจจุบัน" เพื่อดูโรงพยาบาลใกล้เคียง
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>



  <!-- Help -->
  <section id="help" class="info-section">
    <div class="container">
      <h2>ขอความช่วยเหลือ</h2>
      <p>หากคุณหรือคนใกล้ชิดกำลังลำบาก โปรดติดต่อผู้เชี่ยวชาญหรือสายด่วนฉุกเฉิน</p>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="info-section">
    <div class="container contact-container">
      <h2>ติดต่อเรา</h2>
      <form id="contactForm" class="contact-form">
        <div class="form-group">
          <label for="name">ชื่อ</label>
          <input id="name" name="name" required placeholder="กรอกชื่อของคุณ"/>
        </div>
        <div class="form-group">
          <label for="email">อีเมล</label>
          <input type="email" id="email" name="email" required placeholder="example@email.com"/>
        </div>
        <div class="form-group">
          <label for="message">ข้อความ</label>
          <textarea id="message" name="message" rows="4" required placeholder="คุณต้องการบอกอะไรกับเรา?"></textarea>
        </div>
        <button type="submit" class="cta-button">ส่งข้อความ</button>
      </form>
    </div>
  </section>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="container">
      <p>&copy; 2025 MindCare. All rights reserved.</p>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="script.js"></script>
</body>
</html>
